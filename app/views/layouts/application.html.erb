<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CampGram</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP:400,700,900&display=swap" rel="stylesheet">
  </head>

  <body>
  
    <div class="image-takibi">
      <header class="header">
        <div class="inner">
          <div class="nav">
            <div class="nav__left">
              <%= link_to image_tag("logo.png", class: :logo), root_path %>
            </div>
            <% if user_signed_in? %>
              <div class="nav__right">
                <%= link_to "持ち物リスト", new_gear_path, class: :nav__btn %>

                <%= link_to "ログアウト", destroy_user_session_path, method: :delete, class: :nav__logout %>
                <%= link_to "New Proto", new_post_path, class: :nav__btn %>
              </div>
            <% else %>
              <div class="nav__right">
                <%= link_to "ログイン", user_session_path, class: :nav__btn %>
                <%= link_to "新規登録", new_user_registration_path, class: :nav__btn %>
              </div>
            <% end %>
          </div>
        </div>
      </header>
      <%= yield %>
      <footer class="footer">
        <p class="copyright"></p>
      </footer>
    </div>
    <script>
          var i = 1 ;
          function addForm() {
            var input_data = document.createElement('input');
            input_data.type = 'text';
            input_data.id = 'inputform_' + i;
            input_data.placeholder = 'フォーム-' + i;
            var parent = document.getElementById('form_area');
            parent.appendChild(input_data);

            var button_data = document.createElement('button');
            button_data.id = i;
            button_data.onclick = function(){deleteBtn(this);}
            button_data.innerHTML = '削除';
            var input_area = document.getElementById(input_data.id);
            parent.appendChild(button_data);

            i++ ;
          }

          function deleteBtn(target) {
            var target_id = target.id;
            var parent = document.getElementById('form_area');
            var ipt_id = document.getElementById('inputform_' + target_id);
            var tgt_id = document.getElementById(target_id);
            parent.removeChild(ipt_id);
            parent.removeChild(tgt_id);	
          }
    </script>
  </body>
</html>
